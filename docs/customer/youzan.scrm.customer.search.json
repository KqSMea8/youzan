{"name":"search","ids":[9279],"scenarios":"根据店铺信息、身份、成为客户/会员的时间等条件获取客户列表","3.1.0":{"requestUrls":[{"type":"服务商接入","url":"https://open.youzan.com/api/oauthentry/youzan.scrm.customer/3.1.0/search"},{"type":"商家自有接入","url":"https://open.youzan.com/api/entry/youzan.scrm.customer/3.1.0/search"}],"requestParams":[{"name":"created_at_end","type":"Number","example":"","defaultValue":"","isRequired":"否","desc":"成为客户的时间，截止值，时间戳格式，单位是秒","isStruct":false,"structUrl":null,"struct":null},{"name":"created_at_start","type":"Number","example":"","defaultValue":"","isRequired":"否","desc":"成为客户的时间，起始值，时间戳格式，单位是秒","isStruct":false,"structUrl":null,"struct":null},{"name":"is_member","type":"Number","example":"","defaultValue":"","isRequired":"否","desc":"是否为会员，0表示非会员，1表示会员","isStruct":false,"structUrl":null,"struct":null},{"name":"page_no","type":"Number","example":"","defaultValue":"1","isRequired":"否","desc":"页码，最多支持500页(500页是以每页默认值20为单位，客户查询最大为10000)","isStruct":false,"structUrl":null,"struct":null},{"name":"page_size","type":"Number","example":"","defaultValue":"20","isRequired":"否","desc":"每页数量，最多支持50个","isStruct":false,"structUrl":null,"struct":null}],"responseParams":[{"name":"total","type":"Number","isRequired":"否","desc":"列表总数","isStruct":false,"structUrl":null,"struct":{"name":"total","type":"Number","isNeed":"true","desc":"列表总数","defaultValue":null,"example":"","isStruct":false,"children":null}},{"name":"record_list","type":"CustomerResultDTO[]","isRequired":"否","desc":"客户列表返回对象列表","isStruct":true,"structUrl":"/web/meta/CustomerResultDTO","struct":{"name":"record_list","type":"CustomerResultDTO[]","isNeed":"true","desc":"客户列表返回对象列表","defaultValue":null,"example":null,"isStruct":true,"children":[{"name":"name","type":"String","isNeed":null,"desc":"姓名","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"gender","type":"Number","isNeed":null,"desc":"性别","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"yz_uid","type":"Number","isNeed":null,"desc":"用户ID,即buyer_id","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"mobile","type":"String","isNeed":null,"desc":"手机号","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"weixin_fans_id","type":"Number","isNeed":null,"desc":"微信粉丝ID，预留字段，同fans_id,建议使用下面的fans_id字段","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"is_member","type":"Number","isNeed":null,"desc":"是否是会员","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"trade_count","type":"Number","isNeed":null,"desc":"购次","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"points","type":"Number","isNeed":null,"desc":"积分","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"card_ids","type":"Number[]","isNeed":null,"desc":"会员卡ID","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"created_at","type":"Number","isNeed":null,"desc":"成为客户的时间，时间戳格式，单位秒","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"member_created_at","type":"Number","isNeed":null,"desc":"成为会员的时间，时间戳格式，单位秒","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"fans_id","type":"Number","isNeed":null,"desc":"粉丝ID","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"show_name","type":"String","isNeed":null,"desc":"推荐展示姓名(showname可以等于name、可以等于mobile、可以等于nickname，取值顺序为手机-姓名-昵称)","defaultValue":null,"example":null,"isStruct":false,"children":[]}]}}],"requestDemos":[{"lang":"java","code":"YZClient client = new DefaultYZClient(new Token(\"token\")); //new Sign(appKey, appSecret)\nYouzanScrmCustomerSearchParams youzanScrmCustomerSearchParams = new YouzanScrmCustomerSearchParams();\n\nyouzanScrmCustomerSearchParams.setIsMember(1L);\nyouzanScrmCustomerSearchParams.setCreatedAtStart(1514736000L);\nyouzanScrmCustomerSearchParams.setCreatedAtEnd(1517414399L);\n\nYouzanScrmCustomerSearch youzanScrmCustomerSearch = new YouzanScrmCustomerSearch();\nyouzanScrmCustomerSearch.setAPIParams(youzanScrmCustomerSearchParams);\nYouzanScrmCustomerSearchResult result = client.invoke(youzanScrmCustomerSearch);"},{"lang":"csharp","code":"Auth auth = new Token(\"xxx\"); // Auth auth = new Sign(\"app_id\", \"app_secret\");\n\nYZClient yzClient = new DefaultYZClient(auth);\nDictionary<string, object> dict = new System.Collections.Generic.Dictionary<string, object>();\ndict.Add(\"is_member\", 1);\ndict.Add(\"created_at_start\", 1514736000);\ndict.Add(\"created_at_end\", 1517414399);\n\n\nvar result = yzClient.Invoke(\"youzan.scrm.customer.search\", \"3.1.0\", \"POST\", dict, null);\nConsole.WriteLine(result);\n"},{"lang":"python","code":"token = auth.Token(token='token') #auth.Sign(app_id='app_id', app_secret='app_secret')\n\nclient = YZClient(token)\n\nparams={}\n\nparams['is_member']=1\nparams['created_at_start']=1514736000\nparams['created_at_end']=1517414399\n\nfiles=[]\n\nprint client.invoke('youzan.scrm.customer.search', '3.1.0', 'POST', params=params, files=files)\n"},{"lang":"nodejs","code":"var YZClient = require('yz-open-sdk-nodejs');\nvar Token = require('./node_modules/yz-open-sdk-nodejs/Token');\n\nvar YZClient = new YZClient(new Token('xxxx')); // var YZClient = new YZClient(new Sign('app_id', 'app_secret'));\n\nparams={};\n\nparams['is_member']=1;\nparams['created_at_start']=1514736000;\nparams['created_at_end']=1517414399;\n\n\nvar promise = YZClient.invoke('youzan.scrm.customer.search', '3.1.0', 'POST', params, undefined);\n\npromise.then(function(resp) {\n    console.log('resp: ' + resp.body);\n    var data = JSON.parse(resp.body);\n    console.log(data);\n}, function(err) {\n    console.log('err: ' + err);\n}, function(prog) {\n    console.log('prog: ' + prog);\n});\n"},{"lang":"php","code":"<?php\nrequire_once __DIR__ . '/lib/YZTokenClient.php';\n\n$token = 'fill your token';//请填入商家授权后获取的access_token\n$client = new YZTokenClient($token);\n\n$method = 'youzan.scrm.customer.search'; //要调用的api名称\n$api_version = '3.1.0'; //要调用的api版本号\n\n$my_params = [\n    'is_member' => '1',\n    'created_at_start' => '1514736000',\n    'created_at_end' => '1517414399',\n];\n\n$my_files = [\n];\n\necho '<pre>';\nvar_dump(\n    $client->post($method, $api_version, $my_params, $my_files)\n);\necho '</pre>';\n"}],"errorCodes":null,"responseDemo":"{\"response\":{\"total\":384557,\"record_list\":[{\"gender\":0,\"is_member\":1,\"show_name\":\"匿名用户\",\"name\":\"\",\"created_at\":1541582329,\"weixin_fans_id\":0,\"yz_uid\":1067082293,\"member_created_at\":0,\"card_ids\":[110432254],\"fans_id\":6695165312,\"points\":0},{\"gender\":0,\"is_member\":1,\"show_name\":\"13871219588\",\"mobile\":\"13871219588\",\"name\":\"\",\"created_at\":1541581727,\"weixin_fans_id\":6733793850,\"yz_uid\":9157024,\"member_created_at\":0,\"card_ids\":[110432254,110445305],\"points\":0},{\"gender\":0,\"is_member\":1,\"show_name\":\"匿名用户\",\"name\":\"\",\"created_at\":1541581683,\"weixin_fans_id\":0,\"yz_uid\":1075531090,\"member_created_at\":0,\"card_ids\":[110432254,110445305],\"fans_id\":6725069210,\"points\":0},{\"gender\":0,\"is_member\":1,\"show_name\":\"匿名用户\",\"name\":\"\",\"created_at\":1541581610,\"weixin_fans_id\":0,\"yz_uid\":1077687166,\"member_created_at\":0,\"card_ids\":[110432254,110445305],\"fans_id\":6733782579,\"points\":0},{\"gender\":0,\"is_member\":1,\"show_name\":\"恋恋风尘\",\"name\":\"\",\"created_at\":1541581590,\"weixin_fans_id\":0,\"yz_uid\":1077543492,\"member_created_at\":0,\"card_ids\":[110432254,110445305],\"fans_id\":6732958724,\"points\":0},{\"gender\":0,\"is_member\":1,\"show_name\":\"匿名用户\",\"name\":\"\",\"created_at\":1541581287,\"weixin_fans_id\":0,\"yz_uid\":1044312477,\"member_created_at\":0,\"card_ids\":[110432254,110445305],\"fans_id\":6609958138,\"points\":0},{\"gender\":0,\"is_member\":1,\"show_name\":\"匿名用户\",\"name\":\"\",\"created_at\":1541581135,\"weixin_fans_id\":6733731136,\"yz_uid\":317866025,\"member_created_at\":0,\"card_ids\":[110432254,110445305],\"fans_id\":2086680561,\"points\":0},{\"gender\":0,\"is_member\":1,\"show_name\":\"匿名用户\",\"name\":\"\",\"created_at\":1541581133,\"weixin_fans_id\":0,\"yz_uid\":1013127046,\"member_created_at\":0,\"card_ids\":[110432254,110445305],\"fans_id\":6502700681,\"points\":0},{\"gender\":0,\"is_member\":1,\"show_name\":\"匿名用户\",\"name\":\"\",\"created_at\":1541581124,\"weixin_fans_id\":0,\"yz_uid\":965361812,\"member_created_at\":0,\"card_ids\":[110432254,110445305],\"fans_id\":6325575570,\"points\":0},{\"gender\":0,\"is_member\":1,\"show_name\":\"匿名用户\",\"name\":\"\",\"created_at\":1541581109,\"weixin_fans_id\":0,\"yz_uid\":1077420660,\"member_created_at\":0,\"card_ids\":[110432254,110445305],\"fans_id\":6732409390,\"points\":0},{\"gender\":0,\"is_member\":1,\"show_name\":\"匿名用户\",\"name\":\"\",\"created_at\":1541580730,\"weixin_fans_id\":0,\"yz_uid\":1077547703,\"member_created_at\":0,\"card_ids\":[110432254,110445305],\"fans_id\":6732961137,\"points\":0},{\"gender\":1,\"is_member\":1,\"show_name\":\"匿名用户\",\"name\":\"\",\"created_at\":1541580409,\"weixin_fans_id\":0,\"yz_uid\":1075130874,\"member_created_at\":0,\"card_ids\":[110432254,110445305],\"fans_id\":6723176344,\"points\":0},{\"gender\":0,\"is_member\":1,\"show_name\":\"匿名用户\",\"name\":\"\",\"created_at\":1541580379,\"weixin_fans_id\":0,\"yz_uid\":1063152766,\"member_created_at\":0,\"card_ids\":[110432254,110445305],\"fans_id\":6680754411,\"points\":0},{\"gender\":1,\"is_member\":1,\"show_name\":\"匿名用户\",\"name\":\"\",\"created_at\":1541580290,\"weixin_fans_id\":0,\"yz_uid\":1041185547,\"member_created_at\":0,\"card_ids\":[110432254,110445305],\"fans_id\":6599601486,\"points\":0},{\"gender\":0,\"is_member\":1,\"show_name\":\"匿名用户\",\"name\":\"\",\"created_at\":1541579945,\"weixin_fans_id\":0,\"yz_uid\":1067002127,\"member_created_at\":0,\"card_ids\":[110432254,110445305],\"fans_id\":6694849660,\"points\":0},{\"gender\":0,\"is_member\":1,\"show_name\":\"匿名用户\",\"name\":\"\",\"created_at\":1541579796,\"weixin_fans_id\":0,\"yz_uid\":704996364,\"member_created_at\":0,\"card_ids\":[110432254,110445305],\"fans_id\":4704922323,\"points\":0},{\"gender\":0,\"is_member\":1,\"show_name\":\"匿名用户\",\"name\":\"\",\"created_at\":1541579786,\"weixin_fans_id\":0,\"yz_uid\":1076561298,\"member_created_at\":0,\"card_ids\":[110432254,110445305],\"fans_id\":6729315308,\"points\":0},{\"gender\":2,\"is_member\":1,\"show_name\":\"匿名用户\",\"name\":\"\",\"created_at\":1541579693,\"weixin_fans_id\":0,\"yz_uid\":1069274529,\"member_created_at\":0,\"card_ids\":[110432254,110445305],\"fans_id\":6703386285,\"points\":0},{\"gender\":0,\"is_member\":1,\"show_name\":\"匿名用户\",\"name\":\"\",\"created_at\":1541579658,\"weixin_fans_id\":0,\"yz_uid\":1077497469,\"member_created_at\":0,\"card_ids\":[110432254,110445305],\"fans_id\":6732711731,\"points\":0},{\"gender\":0,\"is_member\":1,\"show_name\":\"匿名用户\",\"name\":\"\",\"created_at\":1541579432,\"weixin_fans_id\":0,\"yz_uid\":1070124447,\"member_created_at\":0,\"card_ids\":[110432254,110445305],\"fans_id\":6706029018,\"points\":0}]}}","errorResponseDemo":"{\"error_response\":{\"msg\":\"获取到的Bid信息异常\",\"code\":142710015}}"},"version":["3.1.0"],"desc":"获取客户列表"}