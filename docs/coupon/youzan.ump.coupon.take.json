{"3.0.0":{"requestUrls":[{"type":"服务商接入","url":"https://open.youzan.com/api/oauthentry/youzan.ump.coupon/3.0.0/take"},{"type":"商家自有接入","url":"https://open.youzan.com/api/entry/youzan.ump.coupon/3.0.0/take"}],"requestParams":[{"name":"coupon_group_id","type":"Number","example":"","defaultValue":"","isRequired":"否","desc":"优惠券码组id","isStruct":false,"structUrl":null,"struct":null},{"name":"fans_id","type":"Number","example":"","defaultValue":"","isRequired":"否","desc":"粉丝id，fans_id与weixin_openid存在一个即可","isStruct":false,"structUrl":null,"struct":null},{"name":"mobile","type":"Number","example":"","defaultValue":"","isRequired":"否","desc":"mobile，weixin_openid，fans_id，open_user_id任传一个即可。首先通过mobile查找，其次weixin_openid和fans_id，最后open_user_id","isStruct":false,"structUrl":null,"struct":null},{"name":"open_user_id","type":"String","example":"","defaultValue":"","isRequired":"否","desc":"三方用户id","isStruct":false,"structUrl":null,"struct":null},{"name":"weixin_openid","type":"String","example":"","defaultValue":"","isRequired":"否","desc":"微信用户对应的openid","isStruct":false,"structUrl":null,"struct":null}],"responseParams":[{"name":"coupon_type","type":"String","isRequired":"否","desc":"值：1.PROMOCODE（表示优惠码） 2.PROMOCARD（表示优惠券）","isStruct":false,"structUrl":null,"struct":{"name":"coupon_type","type":"String","isNeed":"true","desc":"值：1.PROMOCODE（表示优惠码） 2.PROMOCARD（表示优惠券）","defaultValue":null,"example":null,"isStruct":false,"children":null}},{"name":"promocode","type":"UmpPromocodeUserTakedetail","isRequired":"否","desc":"用户领取优惠码详情","isStruct":true,"structUrl":"/web/meta/UmpPromocodeUserTakedetail","struct":{"name":"promocode","type":"UmpPromocodeUserTakedetail","isNeed":"false","desc":"用户领取优惠码详情","defaultValue":null,"example":null,"isStruct":true,"children":[{"name":"promocode_id","type":"Number","isNeed":null,"desc":"优惠码id","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"title","type":"String","isNeed":null,"desc":"优惠码标题","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"code","type":"String","isNeed":null,"desc":"优惠码编号","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"value","type":"Price","isNeed":null,"desc":"优惠码面额","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"condition","type":"String","isNeed":null,"desc":"优惠码满额条件","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"start_at","type":"Date","isNeed":null,"desc":"优惠码生效时间，时间格式：yyyy-MM-dd HH:mm:ss","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"end_at","type":"Date","isNeed":null,"desc":"优惠码结束时间，时间格式：yyyy-MM-dd HH:mm:ss","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"is_used","type":"Number","isNeed":null,"desc":"优惠码是否已使用，0 表示未使用，1 表示已使用","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"is_invalid","type":"Number","isNeed":null,"desc":"优惠码是否已实效，0 表示未实效，1 表示已实效","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"is_expired","type":"Number","isNeed":null,"desc":"优惠码是否已过期，0 表示未过期，1 表示已过期","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"background_color","type":"String","isNeed":null,"desc":"优惠码背景颜色","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"detail_url","type":"String","isNeed":null,"desc":"优惠码详情链接","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"verify_code","type":"String","isNeed":null,"desc":"优惠券核销码","defaultValue":null,"example":null,"isStruct":false,"children":[]}]}},{"name":"promocard","type":"UmpPromocardUserTakedetail","isRequired":"否","desc":"用户领取优惠券详情（优惠码or优惠券详情只返回其一） ","isStruct":true,"structUrl":"/web/meta/UmpPromocardUserTakedetail","struct":{"name":"promocard","type":"UmpPromocardUserTakedetail","isNeed":"false","desc":"用户领取优惠券详情（优惠码or优惠券详情只返回其一） ","defaultValue":null,"example":null,"isStruct":true,"children":[{"name":"promocard_id","type":"Number","isNeed":null,"desc":"优惠券Id","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"title","type":"String","isNeed":null,"desc":"优惠券标题","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"value","type":"Price","isNeed":null,"desc":"优惠券面额","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"condition","type":"String","isNeed":null,"desc":"优惠券满额条件","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"start_at","type":"Date","isNeed":null,"desc":"优惠券生效时间，时间格式：yyyy-MM-dd HH:mm:ss","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"end_at","type":"Date","isNeed":null,"desc":"优惠券结束时间，时间格式：yyyy-MM-dd HH:mm:ss","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"is_used","type":"Number","isNeed":null,"desc":"优惠券是否已使用，0 表示未使用，1 表示已使用","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"is_invalid","type":"Number","isNeed":null,"desc":"优惠券是否已实效，0 表示未实效，1 表示已实效","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"is_expired","type":"Number","isNeed":null,"desc":"优惠券是否已过期，0 表示未过期，1 表示已过期","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"background_color","type":"String","isNeed":null,"desc":"优惠券背景颜色","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"detail_url","type":"String","isNeed":null,"desc":"优惠券详情链接","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"verify_code","type":"String","isNeed":null,"desc":"优惠券核销码","defaultValue":null,"example":null,"isStruct":false,"children":[]}]}}],"requestDemos":[{"lang":"java","code":"YZClient client = new DefaultYZClient(new Token(\"token\")); //new Sign(appKey, appSecret)\nYouzanUmpCouponTakeParams youzanUmpCouponTakeParams = new YouzanUmpCouponTakeParams();\n\nyouzanUmpCouponTakeParams.setMobile(18868813601L);\nyouzanUmpCouponTakeParams.setCouponGroupId(2313458L);\n\nYouzanUmpCouponTake youzanUmpCouponTake = new YouzanUmpCouponTake();\nyouzanUmpCouponTake.setAPIParams(youzanUmpCouponTakeParams);\nYouzanUmpCouponTakeResult result = client.invoke(youzanUmpCouponTake);"},{"lang":"csharp","code":"Auth auth = new Token(\"xxx\"); // Auth auth = new Sign(\"app_id\", \"app_secret\");\n\nYZClient yzClient = new DefaultYZClient(auth);\nDictionary<string, object> dict = new System.Collections.Generic.Dictionary<string, object>();\ndict.Add(\"mobile\", 18868813601);\ndict.Add(\"coupon_group_id\", 2313458);\n\n\nvar result = yzClient.Invoke(\"youzan.ump.coupon.take\", \"3.0.0\", \"POST\", dict, null);\nConsole.WriteLine(result);\n"},{"lang":"php","code":"<?php\nrequire_once __DIR__ . '/lib/YZTokenClient.php';\n\n$token = 'fill your token';//请填入商家授权后获取的access_token\n$client = new YZTokenClient($token);\n\n$method = 'youzan.ump.coupon.take'; //要调用的api名称\n$api_version = '3.0.0'; //要调用的api版本号\n\n$my_params = [\n    'mobile' => '18868813601',\n    'coupon_group_id' => '2313458',\n];\n\n$my_files = [\n];\n\necho '<pre>';\nvar_dump(\n    $client->post($method, $api_version, $my_params, $my_files)\n);\necho '</pre>';"},{"lang":"python","code":"token = auth.Token(token='token') #auth.Sign(app_id='app_id', app_secret='app_secret')\n\nclient = YZClient(token)\n\nparams={}\n\nparams['mobile']=18868813601\nparams['coupon_group_id']=2313458\n\nfiles=[]\n\nprint client.invoke('youzan.ump.coupon.take', '3.0.0', 'GET', params=params, files=files)\n"},{"lang":"nodejs","code":"var YZClient = require('yz-open-sdk-nodejs');\nvar Token = require('./node_modules/yz-open-sdk-nodejs/Token');\n\nvar YZClient = new YZClient(new Token('xxxx')); // var YZClient = new YZClient(new Sign('app_id', 'app_secret'));\n\nparams={};\n\nparams['mobile']=18868813601;\nparams['coupon_group_id']=2313458;\n\n\nvar promise = YZClient.invoke('youzan.ump.coupon.take', '3.0.0', 'GET', params, undefined);\n\npromise.then(function(resp) {\n    console.log('resp: ' + resp.body);\n    var data = JSON.parse(resp.body);\n    console.log(data);\n}, function(err) {\n    console.log('err: ' + err);\n}, function(prog) {\n    console.log('prog: ' + prog);\n});\n"}],"errorCodes":null,"responseDemo":"{\n  \"response\": {\n    \"coupon_type\": \"PROMOCARD\",\n    \"promocard\": {\n      \"promocard_id\": \"10422654\",\n      \"title\": \"华宇测试0722\",\n      \"value\": \"1.00\",\n      \"condition\": \"无限制\",\n      \"start_at\": \"2016-07-22 17:35:03\",\n      \"end_at\": \"2016-07-30 17:34:23\",\n      \"is_used\": \"0\",\n      \"is_invalid\": \"0\",\n      \"is_expired\": 0,\n      \"background_color\": \"#55bd47\",\n      \"detail_url\": \"https://wap.koudaitong.com/v2/showcase/coupon/detail?alias=1359928&id=10422654\",\n      \"verify_code\": \"792873936041\"\n    }\n  }\n}","errorResponseDemo":"{\"error_response\":{\"msg\":\"活动不存在\",\"code\":160700601}}"},"name":"take","ids":[7962],"scenarios":"发放优惠券优惠码，支持绑定认证服务号店铺的微信自有粉丝、手机号","version":["3.0.0"],"desc":"发放优惠券优惠码"}